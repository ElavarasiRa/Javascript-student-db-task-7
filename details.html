<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" href="assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Add Details</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	<!-- CSS Files -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/material-kit.css?v=1.2.0" rel="stylesheet"/>
</head>

<body class="login-page">
	<div class="page-header header-filter" style="background-image: url('assets/img/bg7.jpg'); background-size: cover; background-position: top center;">
		<div class="container">
			<div class="row">
				<div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3">
					<div class="card card-signup">
						<form class="form" method="" action="">
							<div class="header header-primary text-center">
								<h4 class="card-title">Add details</h4>
							</div>
							<!-- <p class="description text-center">Or Be Classical</p> -->
							<div class="card-content">

								<div class="input-group">
									<span class="input-group-addon">
										<i class="material-icons">face</i>
									</span>
									<input type="text" id="name" class="form-control" placeholder="First Name...">
								</div>

								<div class="input-group">
									<span class="input-group-addon">
										<i class="material-icons">email</i>
									</span>
									<input type="text" id="email" class="form-control" placeholder="Email...">
								</div>

								<div class="input-group">
									<span class="input-group-addon">
										<i class="material-icons"></i>
									</span>
									<select class="form-control" id="gender">
										<option  value="Select">Select</option>
										<option value="Male">Male</option>
									    <option value="Female">Female</option>
										<option value="Other">Others</option>

									</select>
								</div>

								<div class="input-group">
									<span class="input-group-addon">
										<i class="material-icons"></i>
									</span>
									<input type="number" id="age" placeholder="Age..." class="form-control" />
								</div>

								<div class="input-group">
									<span class="input-group-addon">
										<i class="material-icons"></i>
									</span>
									<input type="number" id="aadhaar" placeholder="Aadhaar No..." minlength="10" maxlength="10" class="form-control" />
								</div><br>

								<div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">face</i>
                                    </span>
                                   <input id="file-upload" type="file" accept=".gif,.jpg,.jpeg,.png" required>
                                </div>

							</div>

							<div class="footer text-center">
								<a class="btn btn-primary btn-simple btn-wd btn-lg" onclick="submit()">Submit</a>
							</div>

						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

</body>
<script>

	var user  = [];
        var fileContent;
        window.addEventListener("load", function() {
            document.getElementById("file-upload").onchange = function(event) {
            var reader = new FileReader();
            reader.readAsDataURL(event.srcElement.files[0]);
            var me = this;
            reader.onload = function () {
            fileContent = reader.result;
    }
}});
        		var data1 = JSON.parse(localStorage.getItem('user1'));
                for(let i=0;i<data1.length;i++){
                       user.push(data1[i]);       	
                }

	function submit(){
		var name  = document.getElementById('name').value;
        var email = document.getElementById('email').value;
		var gender  = document.getElementById('gender').value;
        var age = document.getElementById('age').value;
        var aadhaar  = document.getElementById('aadhaar').value;

         if(email=='' && name==''){
           	alert('enter detail')
           }
           else if(age=='' && aadhaar==''){
        	alert('fill detail')
           }else{
           	 if(!data1){
         let data = {
            name:name,
            email:email,
            gender:gender,
            age:age,
            aadhaar:aadhaar,
            image:fileContent
        }
        user.push(data);
        console.log(user)
        localStorage.setItem('user1',JSON.stringify(user));
		location.replace("index.html")
		}else if(data1){
            
                   let data = {
			            name:name,
			            email:email,
			            gender:gender,
			            age:age,
			            aadhaar:aadhaar,
			            image:fileContent
        			}
			        console.log(data)
			        user.push(data);
			        console.log(user)
			        localStorage.setItem('user1',JSON.stringify(user));
					location.replace("index.html")
             
		}else{
			alert('error')
		}
    }		        
	}
</script>
	<!--   Core JS Files   -->
	<script src="assets/js/jquery.min.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/js/material.min.js"></script>

	<!--    Plugin for Date Time Picker and Full Calendar Plugin   -->
	<script src="assets/js/moment.min.js"></script>

	<!--	Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/   -->
	<script src="assets/js/nouislider.min.js" type="text/javascript"></script>

	<!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker   -->
	<script src="assets/js/bootstrap-datetimepicker.js" type="text/javascript"></script>

	<!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select   -->
	<script src="assets/js/bootstrap-selectpicker.js" type="text/javascript"></script>

	<!--	Plugin for Tags, full documentation here: http://xoxco.com/projects/code/tagsinput/   -->
	<script src="assets/js/bootstrap-tagsinput.js"></script>

	<!--	Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput   -->
	<script src="assets/js/jasny-bootstrap.min.js"></script>

	<!--    Plugin For Google Maps   -->
	<script  type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>

	<!--    Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc    -->
	<script src="assets/js/material-kit.js?v=1.2.0" type="text/javascript"></script>
</html>
